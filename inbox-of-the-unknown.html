<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Inbox of the Unknown</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  body {
    margin:0; background:#0d0d0d; color:#f5f5f5;
    font-family: system-ui, sans-serif;
    display:flex; flex-direction:column; align-items:center;
  }
  h1 { margin:10px; }
  #emails { width:80%; max-width:800px; margin-top:20px; }
  .email {
    background:#1a1a1a; border:1px solid #444; margin:8px 0;
    padding:12px; border-radius:8px; cursor:pointer;
  }
  .hidden { display:none; }
  #popup {
    position:fixed; top:20px; right:20px; background:#fff; color:#000;
    padding:10px 14px; border-radius:8px; box-shadow:0 4px 10px rgba(0,0,0,.4);
    display:none; z-index:10;
  }
  #glitch {
    position:fixed; inset:0; background:#000; color:#f00;
    display:flex; align-items:center; justify-content:center;
    font-size:4em; font-weight:bold; text-shadow:2px 2px #fff;
    display:none; z-index:20;
  }
</style>
</head>
<body>
<h1>ðŸ“§ Inbox</h1>
<div id="popup"></div>
<div id="emails"></div>
<div id="glitch">LOOK BEHIND YOU</div>

<script>
const emails = document.getElementById("emails");
const popup = document.getElementById("popup");
const glitch = document.getElementById("glitch");

let emailStage = 0;

// fake notification sound
const ding = new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg");

function showPopup(msg) {
  popup.innerText = msg;
  popup.style.display="block";
  setTimeout(()=>popup.style.display="none",4000);
}

function addEmail(from, subject, body, action) {
  let div=document.createElement("div");
  div.className="email";
  div.innerHTML=`<b>${from}</b><br><i>${subject}</i><p>${body}</p>`;
  div.onclick=()=>{ if(action) action(div); };
  emails.appendChild(div);
  ding.play();
}

// Game flow
function nextEmail() {
  emailStage++;
  if(emailStage===1){
    addEmail("Alice â€“ HR","Welcome!","Welcome to the team ðŸŽ‰",()=>nextEmail());
  } else if(emailStage===2){
    addEmail("Bob â€“ Dev","Quick Task","Can you connect these dots?",()=>{alert("Dots connected âœ…"); nextEmail();});
  } else if(emailStage===3){
    addEmail("Claire â€“ Ops","Another favor","Click me to sort files.",()=>{alert("Files sorted ðŸ“‚"); nextEmail();});
  } else if(emailStage===4){
    addEmail("System","ðŸŽ Free Prize","Click to claim your prize!",(el)=>{
      document.body.style.background="black";
      emails.innerHTML="";
      setTimeout(()=> {
        addEmail("???","YOUR COMPUTER IS NOW MINE","...",()=>creepyPhase());
      },1500);
    });
  }
}

function creepyPhase() {
  document.body.style.background="#111";
  setTimeout(()=>{
    emails.innerHTML="";
    setTimeout(()=> {
      glitch.style.display="flex";
    },2000);
  },2000);
}

// start
window.onload=()=>{
  showPopup("You work at {REDACTED}. Position: {REDACTED}");
  setTimeout(()=>nextEmail(),3000);
};
</script>
</body>
</html>
