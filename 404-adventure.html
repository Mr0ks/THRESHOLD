<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>404</title>
<style>
  /* --- Base: GitHub Pages 404 vibe --- */
  :root{
    --bg:#ffffff; --ink:#0d1117; --muted:#57606a; --link:#0969da; --panel:#fff;
    --edge:#d0d7de; --depth:0; --vignette:0; --tint:0deg; --sat:1;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);
    font:16px/1.6 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";}
  a{color:var(--link);text-decoration:none}
  a:hover{text-decoration:underline}
  .wrap{min-height:100%;display:grid;place-items:center;padding:32px;position:relative;overflow:hidden}
  .card{max-width:760px;text-align:center;border-radius:12px;padding:0 16px;position:relative}
  h1{font-weight:500;font-size:72px;line-height:1;margin:0 0 6px}
  h2{font-weight:600;font-size:22px;margin:4px 0 12px}
  p{margin:8px 0;color:var(--muted)}
  .links{margin-top:18px;display:flex;gap:14px;justify-content:center;flex-wrap:wrap}
  .foot{margin-top:26px;color:var(--muted);font-size:14px}
  .dot{margin:0 12px;color:#d0d7de}
  .badge{display:inline-block;border:1px solid var(--edge);border-radius:999px;padding:4px 10px;margin-top:10px;color:var(--muted)}
  .gallery{display:grid;grid-template-columns:repeat(3,minmax(120px,1fr));gap:10px;max-width:760px;margin:18px auto 0}
  canvas.thumb{width:100%;aspect-ratio:4/3;height:auto;border:1px solid var(--edge);border-radius:10px;background:#0a0f18}
  /* --- Darkness layers (increase with depth) --- */
  .noise, .vignette, .tint {
    position:fixed; inset:0; pointer-events:none; z-index:0;
  }
  .noise{opacity:0; mix-blend-mode:multiply}
  .vignette{
    background: radial-gradient(ellipse at center,
      rgba(0,0,0,0) 40%, rgba(0,0,0,0.25) 65%, rgba(0,0,0,0.6) 100%);
    opacity:var(--vignette);
  }
  .tint{background:transparent; filter:hue-rotate(var(--tint)) saturate(var(--sat));}
  /* --- Foreground container on top of layers --- */
  .content{position:relative; z-index:1;}
  /* --- Cursor watcher --- */
  .watcher{
    position:fixed; width:18px; height:18px; border-radius:50%;
    box-shadow:0 0 18px 6px rgba(0,0,0,.25);
    transform:translate(-50%,-50%); pointer-events:none; z-index:2;
    background: radial-gradient(circle at 45% 40%, #222 0%, #000 60%, #0000 65%);
    opacity:0;
  }
  /* --- Depth-driven theme switches (no blur or text mangling) --- */
  .stage-1{ --bg:#ffffff; --panel:#fff; --ink:#0d1117; --muted:#57606a; --link:#0969da; --edge:#d0d7de; }
  .stage-2{ --bg:#f6f8fa; --panel:#fefefe; }
  .stage-3{ --bg:#0b0f13; --panel:#0f141a; --ink:#e6edf3; --muted:#9aa5b1; --link:#7db7ff; --edge:#243044; }
  .stage-4{ --bg:#06080c; --panel:#0a0f16; }
  /* Accessibility note */
  .sr{position:absolute;left:-9999px}
</style>
</head>
<body class="stage-1">
<div class="wrap">
  <!-- Darkness layers -->
  <canvas class="noise" id="noise"></canvas>
  <div class="vignette" id="vignette"></div>
  <div class="tint" id="tint"></div>
  <div class="watcher" id="watcher" aria-hidden="true"></div>

  <div class="content">
    <div class="card">
      <h1>404</h1>
      <h2>File not found</h2>
      <p>The site configured at this address does not contain the requested file.</p>
      <p>If this is your site, make sure that the filename case matches the URL as well as any file permissions.</p>
      <p>For root URLs (like <code>http://example.com/</code>) you must provide an <code>index.html</code> file.</p>
      <p><a href="#" class="deep">Read the full documentation</a> for more information about using GitHub Pages.</p>

      <div class="links" id="deepLinks">
        <a href="#" class="deep">/docs</a>
        <a href="#" class="deep">/help</a>
        <a href="#" class="deep">/readme</a>
        <a href="#" class="deep">/settings</a>
        <a href="#" class="deep">/status</a>
        <a href="#" class="deep">/index.html</a>
      </div>

      <div class="badge">Depth: <span id="depth">0</span> — <a href="#" id="back">Back</a> · <a href="#" id="mute">Mute</a></div>

      <!-- generated “scary images” appear here as you go deeper -->
      <div class="gallery" id="gallery" aria-live="polite"></div>

      <div class="foot">
        <a href="#" class="deep">@githubstatus</a>
        <span class="dot">—</span>
        <a href="#" class="deep">GitHub Status</a>
      </div>
    </div>
  </div>
</div>

<script>
/* ====== State ====== */
let depth = 0;
const maxDepth = 40;
const dEl = document.getElementById('depth');
const gallery = document.getElementById('gallery');
const watcher = document.getElementById('watcher');
const noiseCanvas = document.getElementById('noise');
const noiseCtx = noiseCanvas.getContext('2d');
const vignette = document.getElementById('vignette');
const tint = document.getElementById('tint');

/* ====== Audio (starts on first click only) ====== */
let ac=null, master=null, humOsc=null, hiss=null, muted=false;
function ensureAudio(){
  if (ac) return;
  ac = new (window.AudioContext||window.webkitAudioContext)();
  master = ac.createGain(); master.gain.value = 0; master.connect(ac.destination);

  // deep hum (detuned sines)
  const o1 = ac.createOscillator(); o1.type='sine'; o1.frequency.value=38;
  const o2 = ac.createOscillator(); o2.type='sine'; o2.frequency.value=41;
  const gHum = ac.createGain(); gHum.gain.value = 0.0;
  o1.connect(gHum); o2.connect(gHum); gHum.connect(master); o1.start(); o2.start(); humOsc = gHum;

  // soft hiss (noise buffer)
  const b = ac.createBuffer(1, ac.sampleRate*2, ac.sampleRate);
  const data = b.getChannelData(0);
  for (let i=0;i<data.length;i++){ data[i] = (Math.random()*2-1)*0.12; }
  const n = ac.createBufferSource(); n.buffer=b; n.loop=true;
  const gHiss = ac.createGain(); gHiss.gain.value=0.0; n.connect(gHiss); gHiss.connect(master); n.start(); hiss=gHiss;
}

/* ====== Depth progression (no blur or text distortion) ====== */
function setStage(){
  dEl.textContent = depth;

  // Theme stages
  document.body.className =
    depth < 2 ? 'stage-1' :
    depth < 5 ? 'stage-2' :
    depth < 9 ? 'stage-3' : 'stage-4';

  // Darkness controls
  const noiseLevel = Math.min(1, Math.max(0, (depth-2)/12)); // 0..1
  noiseCanvas.style.opacity = noiseLevel*0.85;

  const vig = Math.min(0.85, Math.max(0, (depth-3)/8));
  document.documentElement.style.setProperty('--vignette', vig);

  const hue = (depth-6)*7; // subtle tinting as we go down
  const sat = 1 + Math.max(0,(depth-6))*0.02;
  document.documentElement.style.setProperty('--tint', hue+'deg');
  document.documentElement.style.setProperty('--sat', sat);

  // Watcher opacity & speed
  watcher.style.opacity = Math.min(1, Math.max(0,(depth-5)/10));

  // Audio levels
  if (ac && !muted){
    master.gain.linearRampToValueAtTime(Math.min(0.5, depth*0.02), ac.currentTime+0.2);
    humOsc.gain.linearRampToValueAtTime(Math.min(0.3, depth*0.015), ac.currentTime+0.2);
    hiss.gain.linearRampToValueAtTime(Math.min(0.2, depth*0.01), ac.currentTime+0.2);
  }

  // Generate/refresh “images” with depth
  renderGallery();
}

/* ====== Rorschach-style image generation ====== */
function drawRorschach(ctx, w, h, seed){
  function rnd(){ seed = (seed*1664525 + 1013904223) % 4294967296; return seed/4294967296; }
  ctx.fillStyle = '#0a0f18'; ctx.fillRect(0,0,w,h);

  // background haze
  for (let i=0;i<120;i++){
    ctx.fillStyle = `rgba(255,255,255,${rnd()*0.03})`;
    ctx.fillRect(rnd()*w, rnd()*h, 1, 1);
  }

  // dark blot
  const layers = 5 + Math.floor(depth/3);
  for (let L=0; L<layers; L++){
    const cx = w*0.25 + rnd()*w*0.25;
    const cy = h*0.25 + rnd()*h*0.5;
    const r  = (Math.min(w,h)*0.1) + rnd()*Math.min(w,h)*0.25;
    const ang= rnd()*Math.PI*2;
    const kx = Math.cos(ang), ky = Math.sin(ang);

    ctx.beginPath();
    for (let a=0;a<Math.PI*2; a+=Math.PI/24){
      const rr = r*(0.6 + rnd()*0.8);
      const x = cx + Math.cos(a)*rr + kx*rnd()*10;
      const y = cy + Math.sin(a)*rr + ky*rnd()*10;
      if (a===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
    }
    const shade = Math.floor(20 + rnd()*40);
    ctx.fillStyle = `rgb(${shade},${shade},${shade})`;
    ctx.fill();

    // mirror to right side
    const img = ctx.getImageData(0,0,w/2,h);
    ctx.save();
    ctx.scale(-1,1); // mirror horizontally
    ctx.putImageData(img, -w, 0);
    ctx.restore();
  }

  // occasional "eye-like" hints (just circles)
  if (depth>8 && rnd()<0.8){
    const ex = w*0.33, ey = h*0.42;
    ctx.fillStyle = 'rgba(240,240,240,0.08)';
    ctx.beginPath(); ctx.arc(ex,ey, 8+rnd()*5,0,Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.arc(w-ex,ey, 8+rnd()*5,0,Math.PI*2); ctx.fill();
  }
}

function renderGallery(){
  // Number of thumbs increases with depth
  const need = Math.min(9, Math.max(0, Math.floor((depth-3)/2)));
  const current = gallery.querySelectorAll('canvas.thumb').length;
  if (need !== current){
    gallery.innerHTML = '';
    for (let i=0;i<need;i++){
      const c = document.createElement('canvas');
      c.className = 'thumb';
      c.width = 320; c.height = 240;
      gallery.appendChild(c);
    }
  }
  // (re)draw all thumbs
  gallery.querySelectorAll('canvas.thumb').forEach((c, i)=>{
    const ctx = c.getContext('2d');
    drawRorschach(ctx, c.width, c.height, (i+1)*123456 + depth*777);
  });
}

/* ====== Noise animation ====== */
function resizeNoise(){
  noiseCanvas.width = window.innerWidth;
  noiseCanvas.height = window.innerHeight;
}
function loopNoise(){
  const w = noiseCanvas.width, h = noiseCanvas.height;
  const img = noiseCtx.createImageData(w, h);
  for (let i=0; i<img.data.length; i+=4){
    const v = (Math.random()*255)|0;
    img.data[i]=v; img.data[i+1]=v; img.data[i+2]=v; img.data[i+3]=28; // faint static
  }
  noiseCtx.putImageData(img,0,0);
  requestAnimationFrame(loopNoise);
}

/* ====== Cursor watcher ====== */
let tx=0, ty=0, wx=0, wy=0;
window.addEventListener('mousemove', (e)=>{
  tx = e.clientX; ty = e.clientY;
});
function animateWatcher(){
  const speed = 0.06 + Math.max(0,(depth-5))*0.002;
  wx += (tx - wx) * speed;
  wy += (ty - wy) * speed;
  watcher.style.left = wx + 'px';
  watcher.style.top  = wy + 'px';
  requestAnimationFrame(animateWatcher);
}

/* ====== Link handling ====== */
function goDeeper(){
  ensureAudio();
  if (depth < maxDepth) depth++;
  setStage();
}
function goBack(){
  if (depth>0) depth--;
  setStage();
}
document.querySelectorAll('.deep').forEach(a=>{
  a.addEventListener('click', (e)=>{ e.preventDefault(); goDeeper(); });
});
document.getElementById('back').addEventListener('click', (e)=>{ e.preventDefault(); goBack(); });

/* mute / unmute */
document.getElementById('mute').addEventListener('click', (e)=>{
  e.preventDefault();
  if (!ac) { ensureAudio(); }
  muted = !muted;
  if (muted){ master.gain.linearRampToValueAtTime(0, ac.currentTime+0.2); e.target.textContent='Unmute'; }
  else { master.gain.linearRampToValueAtTime(Math.min(0.5, depth*0.02), ac.currentTime+0.2); e.target.textContent='Mute'; }
});

/* Keyboard shortcuts */
window.addEventListener('keydown', (e)=>{
  const k = e.key.toLowerCase();
  if (k==='b') goBack();
  if (k==='m'){ const evt=new Event('click'); document.getElementById('mute').dispatchEvent(evt); }
});

/* ====== Init ====== */
resizeNoise(); loopNoise(); animateWatcher(); setStage();
window.addEventListener('resize', resizeNoise);
</script>
</body>
</html>
